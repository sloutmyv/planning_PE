{% extends 'core/base.html' %}

{% block title %}Manuel Utilisateur - Planning PE{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <div class="bg-white rounded-lg shadow-md">
        <!-- Header -->
        <div class="bg-blue-600 text-white px-6 py-4 rounded-t-lg">
            <h1 class="text-2xl font-bold flex items-center">
                üìñ Manuel Utilisateur
                <span class="ml-3 text-sm font-normal bg-blue-500 px-2 py-1 rounded">Planning PE</span>
            </h1>
            <p class="text-blue-100 mt-1">Guide complet pour utiliser l'application de planification</p>
        </div>

        <!-- Content -->
        <div class="p-6 space-y-8">
            <!-- Sommaire -->
            <section>
                <h2 class="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2 mb-4">
                    üìã Sommaire
                </h2>
                <div class="bg-gray-50 rounded-lg p-4">
                    <nav class="space-y-2 text-sm">
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <h3 class="font-semibold text-gray-700 mb-2">Guide principal</h3>
                                <ul class="space-y-1">
                                    <li><a href="#vue-ensemble" class="text-blue-600 hover:text-blue-800 hover:underline">üè† Vue d'ensemble</a></li>
                                    <li><a href="#sequence-creation" class="text-blue-600 hover:text-blue-800 hover:underline">üìã S√©quence de cr√©ation des donn√©es</a></li>
                                    <li><a href="#guide-detaille" class="text-blue-600 hover:text-blue-800 hover:underline">üìö Guide d√©taill√© par module</a></li>
                                </ul>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-700 mb-2">Informations pratiques</h3>
                                <ul class="space-y-1">
                                    <li><a href="#conseils" class="text-blue-600 hover:text-blue-800 hover:underline">üí° Conseils et bonnes pratiques</a></li>
                                    <li><a href="#interface" class="text-blue-600 hover:text-blue-800 hover:underline">‚å®Ô∏è Interface et navigation</a></li>
                                    <li><a href="#support" class="text-blue-600 hover:text-blue-800 hover:underline">üÜò Support et d√©pannage</a></li>
                                </ul>
                            </div>
                        </div>
                    </nav>
                </div>
            </section>

            <!-- Vue d'ensemble -->
            <section id="vue-ensemble">
                <h2 class="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2 mb-4">
                    üè† Vue d'ensemble
                </h2>
                <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                    <p class="text-blue-800">
                        L'application Planning PE vous permet de cr√©er et g√©rer des plannings complexes pour votre organisation. 
                        Elle utilise une architecture hi√©rarchique qui n√©cessite de suivre un ordre sp√©cifique lors de la cr√©ation des donn√©es.
                    </p>
                </div>
                
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h3 class="font-semibold text-gray-700 mb-2">üéØ Objectif principal</h3>
                        <p class="text-sm text-gray-600">Cr√©er des roulements hebdomadaires complets avec assignation de rythmes quotidiens pour chaque jour de la semaine.</p>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h3 class="font-semibold text-gray-700 mb-2">üîë Pr√©requis</h3>
                        <p class="text-sm text-gray-600">Avoir les permissions administrateur (niveau A ou S) pour acc√©der aux fonctionnalit√©s de gestion.</p>
                    </div>
                </div>
            </section>

            <!-- S√©quence de cr√©ation -->
            <section id="sequence-creation">
                <h2 class="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2 mb-4">
                    üìã S√©quence de cr√©ation des donn√©es
                </h2>
                <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6">
                    <p class="text-yellow-800 font-medium">
                        ‚ö†Ô∏è Important : Respectez cet ordre pour √©viter les erreurs de d√©pendances !
                    </p>
                </div>

                <div class="space-y-6">
                    <!-- √âtape 1 -->
                    <div class="bg-white border border-gray-200 rounded-lg p-6">
                        <div class="flex items-center mb-4">
                            <span class="bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold mr-3">1</span>
                            <h3 class="text-lg font-semibold text-gray-800">Types d'horaire</h3>
                        </div>
                        <div class="ml-11">
                            <p class="text-gray-600 mb-3">Cr√©ez d'abord les types d'horaire qui d√©finiront les diff√©rentes √©quipes.</p>
                            <div class="bg-gray-50 p-3 rounded text-sm">
                                <strong>Navigation :</strong> Administration ‚Üí Types d'horaires<br>
                                <strong>Exemples :</strong> Matin (MAT), Apr√®s-midi (APM), Nuit (NUIT), Jour (JT), etc.<br>
                                <strong>Conseil :</strong> Assignez des couleurs distinctes pour faciliter l'identification visuelle.
                            </div>
                        </div>
                    </div>

                    <!-- √âtape 2 -->
                    <div class="bg-white border border-gray-200 rounded-lg p-6">
                        <div class="flex items-center mb-4">
                            <span class="bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold mr-3">2</span>
                            <h3 class="text-lg font-semibold text-gray-800">Rythmes quotidiens</h3>
                        </div>
                        <div class="ml-11">
                            <p class="text-gray-600 mb-3">Cr√©ez les rythmes quotidiens en les associant aux types d'horaire.</p>
                            <div class="bg-gray-50 p-3 rounded text-sm">
                                <strong>Navigation :</strong> Administration ‚Üí Rythmes Quotidien<br>
                                <strong>D√©pendance :</strong> N√©cessite les types d'horaire (√©tape 1)<br>
                                <strong>Action :</strong> Ajoutez des p√©riodes avec dates et heures pour chaque rythme
                            </div>
                        </div>
                    </div>

                    <!-- √âtape 3 -->
                    <div class="bg-white border border-gray-200 rounded-lg p-6">
                        <div class="flex items-center mb-4">
                            <span class="bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold mr-3">3</span>
                            <h3 class="text-lg font-semibold text-gray-800">Roulements hebdomadaires</h3>
                        </div>
                        <div class="ml-11">
                            <p class="text-gray-600 mb-3">Cr√©ez le planning principal et organisez-le par p√©riodes et semaines.</p>
                            <div class="bg-gray-50 p-3 rounded text-sm">
                                <strong>Navigation :</strong> Administration ‚Üí Roulements Hebdomadaires<br>
                                <strong>D√©pendance :</strong> N√©cessite les rythmes quotidiens (√©tape 2)<br>
                                <strong>Structure :</strong> Planning ‚Üí P√©riode ‚Üí Semaine ‚Üí Assignation quotidienne
                            </div>
                        </div>
                    </div>

                    <!-- √âtape 4 -->
                    <div class="bg-white border border-gray-200 rounded-lg p-6">
                        <div class="flex items-center mb-4">
                            <span class="bg-green-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold mr-3">4</span>
                            <h3 class="text-lg font-semibold text-gray-800">Donn√©es support (optionnel)</h3>
                        </div>
                        <div class="ml-11">
                            <p class="text-gray-600 mb-3">Ajoutez les donn√©es compl√©mentaires selon vos besoins.</p>
                            <div class="grid md:grid-cols-2 gap-4 text-sm">
                                <div class="bg-gray-50 p-3 rounded">
                                    <strong>Agents :</strong> Personnel avec permissions<br>
                                    <span class="text-gray-600">Administration ‚Üí Liste des Agents</span>
                                </div>
                                <div class="bg-gray-50 p-3 rounded">
                                    <strong>Postes :</strong> Fonctions de l'organisation<br>
                                    <span class="text-gray-600">Administration ‚Üí Liste des Postes</span>
                                </div>
                                <div class="bg-gray-50 p-3 rounded">
                                    <strong>Jours f√©ri√©s :</strong> Dates exceptionnelles<br>
                                    <span class="text-gray-600">Administration ‚Üí Jours F√©ri√©s</span>
                                </div>
                                <div class="bg-gray-50 p-3 rounded">
                                    <strong>D√©partements :</strong> Organisation hi√©rarchique<br>
                                    <span class="text-gray-600">Administration ‚Üí D√©partements</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Guide d√©taill√© -->
            <section id="guide-detaille">
                <h2 class="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2 mb-4">
                    üìö Guide d√©taill√© par module
                </h2>

                <div class="space-y-6">
                    <!-- Types d'horaire -->
                    <div class="bg-white border border-gray-200 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            üïê Types d'horaire
                        </h3>
                        <div class="space-y-3 text-sm">
                            <div><strong>Objectif :</strong> D√©finir les diff√©rents cr√©neaux horaires (matin, apr√®s-midi, nuit, etc.)</div>
                            <div><strong>Champs obligatoires :</strong> D√©signation (nom complet), Couleur (code hexad√©cimal)</div>
                            <div><strong>Champs optionnels :</strong> Abr√©viation (2-3 lettres majuscules)</div>
                            <div><strong>Exemple :</strong> D√©signation "√âquipe de Matin", Abr√©viation "MAT", Couleur "#3B82F6"</div>
                            <div class="bg-blue-50 p-2 rounded">
                                <strong>üí° Conseil :</strong> Utilisez des couleurs contrast√©es pour faciliter la lecture des plannings
                            </div>
                        </div>
                    </div>

                    <!-- Rythmes quotidiens -->
                    <div class="bg-white border border-gray-200 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            üìÖ Rythmes quotidiens
                        </h3>
                        <div class="space-y-3 text-sm">
                            <div><strong>Objectif :</strong> Cr√©er des mod√®les d'horaires quotidiens avec leurs p√©riodes de validit√©</div>
                            <div><strong>√âtapes :</strong>
                                <ol class="list-decimal list-inside ml-4 space-y-1">
                                    <li>Cr√©er le rythme quotidien avec un nom et une description</li>
                                    <li>Associer un type d'horaire existant</li>
                                    <li>Ajouter des p√©riodes avec dates de d√©but/fin et heures de travail</li>
                                </ol>
                            </div>
                            <div class="bg-yellow-50 p-2 rounded">
                                <strong>‚ö†Ô∏è Attention :</strong> Les p√©riodes ne peuvent pas se chevaucher pour un m√™me rythme
                            </div>
                        </div>
                    </div>

                    <!-- Roulements hebdomadaires -->
                    <div class="bg-white border border-gray-200 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            üìä Roulements hebdomadaires
                        </h3>
                        <div class="space-y-3 text-sm">
                            <div><strong>Architecture hi√©rarchique :</strong></div>
                            <div class="ml-4 space-y-2">
                                <div>1. <strong>Roulement :</strong> Container principal (ex: "Planning √ât√© 2024")</div>
                                <div>2. <strong>P√©riode :</strong> Tranche temporelle avec dates de d√©but/fin</div>
                                <div>3. <strong>Semaine :</strong> Unit√© de planification num√©rot√©e (S1, S2, S3...)</div>
                                <div>4. <strong>Assignation :</strong> Rythme quotidien pour chaque jour de la semaine</div>
                            </div>
                            <div class="bg-green-50 p-2 rounded">
                                <strong>üöÄ Fonctionnalit√©s avanc√©es :</strong> Duplication de p√©riodes et semaines, assignation multiple par jour
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Conseils et bonnes pratiques -->
            <section id="conseils">
                <h2 class="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2 mb-4">
                    üí° Conseils et bonnes pratiques
                </h2>
                
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="space-y-4">
                        <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                            <h4 class="font-semibold text-green-800 mb-2">‚úÖ √Ä faire</h4>
                            <ul class="text-sm text-green-700 space-y-1">
                                <li>‚Ä¢ Nommez clairement vos types d'horaire</li>
                                <li>‚Ä¢ Utilisez des abr√©viations coh√©rentes</li>
                                <li>‚Ä¢ Testez avec une p√©riode courte d'abord</li>
                                <li>‚Ä¢ Sauvegardez r√©guli√®rement vos donn√©es</li>
                                <li>‚Ä¢ Documentez vos conventions de nommage</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="bg-red-50 border border-red-200 rounded-lg p-4">
                            <h4 class="font-semibold text-red-800 mb-2">‚ùå √Ä √©viter</h4>
                            <ul class="text-sm text-red-700 space-y-1">
                                <li>‚Ä¢ Supprimer des types d'horaire utilis√©s</li>
                                <li>‚Ä¢ Cr√©er des p√©riodes qui se chevauchent</li>
                                <li>‚Ä¢ Modifier des donn√©es en cours d'utilisation</li>
                                <li>‚Ä¢ Utiliser des couleurs trop similaires</li>
                                <li>‚Ä¢ Ignorer les messages de validation</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Raccourcis clavier -->
            <section id="interface">
                <h2 class="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2 mb-4">
                    ‚å®Ô∏è Interface et navigation
                </h2>
                
                <div class="bg-gray-50 rounded-lg p-4">
                    <div class="grid md:grid-cols-2 gap-6 text-sm">
                        <div>
                            <h4 class="font-semibold text-gray-700 mb-2">üîç Fonctionnalit√©s de recherche</h4>
                            <ul class="space-y-1 text-gray-600">
                                <li>‚Ä¢ Recherche en temps r√©el (d√©lai 300ms)</li>
                                <li>‚Ä¢ Tri par colonnes (clic sur en-t√™tes)</li>
                                <li>‚Ä¢ Pagination avec conservation des filtres</li>
                                <li>‚Ä¢ Filtres sp√©cialis√©s par module</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-700 mb-2">üé® Interface moderne</h4>
                            <ul class="space-y-1 text-gray-600">
                                <li>‚Ä¢ Modales HTMX sans rechargement</li>
                                <li>‚Ä¢ Interface accordion pour navigation</li>
                                <li>‚Ä¢ Badges color√©s pour les statuts</li>
                                <li>‚Ä¢ Actions regroup√©es par split buttons</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Support -->
            <section id="support">
                <h2 class="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2 mb-4">
                    üÜò Support et d√©pannage
                </h2>
                
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                    <h4 class="font-semibold text-blue-800 mb-2">En cas de probl√®me</h4>
                    <div class="text-sm text-blue-700 space-y-2">
                        <div>1. <strong>V√©rifiez les d√©pendances :</strong> Assurez-vous que les donn√©es requises existent</div>
                        <div>2. <strong>Consultez les messages d'erreur :</strong> Ils indiquent souvent la solution</div>
                        <div>3. <strong>Respectez l'ordre de cr√©ation :</strong> Suivez la s√©quence recommand√©e</div>
                        <div>4. <strong>Sauvegardez avant modification :</strong> Utilisez l'export JSON pour les agents</div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>
{% endblock %}